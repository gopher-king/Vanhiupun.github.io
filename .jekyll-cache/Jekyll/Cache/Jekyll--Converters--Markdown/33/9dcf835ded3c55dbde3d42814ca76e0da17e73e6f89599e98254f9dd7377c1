I"<p>通过ssh命令连接远程服务器进行操作</p>

<h2 id="在本机生成一个公钥和私钥对">在本机生成一个公钥和私钥对</h2>
<p>一般放在<code class="language-plaintext highlighter-rouge">~/.ssh/</code>，即用户的<code class="language-plaintext highlighter-rouge">.ssh</code>目录下。</p>

<p>这个目录下有一个<code class="language-plaintext highlighter-rouge">known_hosts</code>文件，本用户曾经ssh连接过的主机的公钥都会保存在这里。</p>

<p>在命令行中使用<code class="language-plaintext highlighter-rouge">ssh-keygen</code>工具来生成密钥对：</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh-keygen          <span class="c">#mac系统命令</span>
ssh-keygen.exe      <span class="c">#win系统命令</span>
</code></pre></div></div>
<p>生成过程中会让你指定生成位置，以及给它再设一个密码。我们使用默认位置，不再设定密码。也就是一路Enter就行。</p>

<h2 id="打开存放密钥的文件夹查看">打开存放密钥的文件夹查看</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> .ssh/          <span class="c">#打开存放密钥的文件夹</span>
<span class="nb">ls</span>                <span class="c">#查看文件</span>
<span class="nb">cat </span>id_rsa        <span class="c">#查看私钥</span>
<span class="nb">cat </span>id_rsa.pub    <span class="c">#查看公钥</span>
</code></pre></div></div>
<p><strong>在<code class="language-plaintext highlighter-rouge">.ssh/</code>中可以看到<code class="language-plaintext highlighter-rouge">cat id_rsa</code>  <code class="language-plaintext highlighter-rouge">cat id_rsa.pub</code>两个文件</strong></p>

<p><strong><code class="language-plaintext highlighter-rouge">cat id_rsa</code>为私钥，一般自己保存即可</strong></p>

<p><strong><code class="language-plaintext highlighter-rouge">cat id_rsa.pub</code>为公钥，添加到服务器上</strong></p>

<h2 id="添加密钥至github">添加密钥至Github</h2>

<p>复制一下生成的公钥，从（包括）ssh-rsa到最后。最后的计算机名和它前面的空格不用复制，复制也可以。</p>

<p>登录Github，点右上角自己的头像，选择Settings，然后在新页面中的左侧边栏选择SSH and GPG Key。给这个ssh公钥起一个名字，然后把公钥复制进去。</p>

<p>添加上之后就可以用本机SSH连接Github了。</p>

<p>然后复制Clone地址的时候就可以选择<code class="language-plaintext highlighter-rouge">Use SSH</code>了。</p>

<p>clone方法跟HTTPS的一样。</p>

<p>然后使用<code class="language-plaintext highlighter-rouge">git remote set-url origin git@github.com:xxxxxx更新url</code></p>

<p>##如何免密码使用SSH连接服务器
在目标服务器的<code class="language-plaintext highlighter-rouge">~/.ssh/</code>目录下有一个<code class="language-plaintext highlighter-rouge">authorized_keys</code>文件</p>

<p>这个文件中的所有ssh公钥是可以无条件连接到这台服务器上的</p>

<p>把自己生成的公钥粘贴进去就可以了。</p>

<h2 id="通过ssh命令连接">通过SSH命令连接</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh git@github.com     
</code></pre></div></div>

<p>当出现<strong><em><code class="language-plaintext highlighter-rouge">Hi username! You’ve successfully authenticated, but GitHub does not provide shell access.</code></em></strong>的时候就说明连接成功</p>

<h2 id="将本机中已经clone下的项目由https方式更改为ssh方式">将本机中已经clone下的项目由HTTPS方式更改为SSH方式</h2>

<p>在目标项目的目录中打开Git Bash终端，</p>

<p>输入<code class="language-plaintext highlighter-rouge">git remote -v</code>可以查看remote仓库</p>

<p>去Github中复制下该仓库的SSH URL</p>
:ET